//
// Copyright (c) Microsoft Corporation.  All rights reserved.
//
//
// Use of this source code is subject to the terms of the Microsoft end-user
// license agreement (EULA) under which you licensed this SOFTWARE PRODUCT.
// If you did not accept the terms of the EULA, you are not authorized to use
// this source code. For a copy of the EULA, please see the LICENSE.RTF on your
// install media.
//
// This is a prerelease header file and subject to change.
//
// d3dmcaps.h
// Direct3D Mobile Capabilities Header File

#pragma once

typedef struct _D3DMCAPS
{
    // Device Info
    D3DMDEVTYPE  DeviceType;      // Always D3DMDEVTYPE_DEFAULT
    UINT         AdapterOrdinal;

    ULONG        PresentationIntervals;
    ULONG        DevCaps;
    ULONG        SurfaceCaps;
    ULONG        PrimitiveMiscCaps;
    ULONG        RasterCaps;
    ULONG        ZCmpCaps;
    ULONG        SrcBlendCaps;
    ULONG        DestBlendCaps;
	ULONG        BlendOpCaps;
    ULONG        AlphaCmpCaps;
    ULONG        ShadeCaps;
    ULONG        TextureCaps;
    ULONG        TextureFilterCaps;
    ULONG        StretchRectFilterCaps;
    ULONG        TextureAddressCaps;
    ULONG        LineCaps;

    ULONG        MaxTextureWidth;
    ULONG        MaxTextureHeight;

    ULONG        MaxTextureRepeat;
    ULONG        MaxTextureAspectRatio;
    ULONG        MaxAnisotropy;
    D3DMVALUE    MaxVertexW;

    LONG         GuardBandLeft;
    LONG         GuardBandTop;
    LONG         GuardBandRight;
    LONG         GuardBandBottom;

    D3DMVALUE    ExtentsAdjust;
    ULONG        StencilCaps;
    ULONG        StencilCmpCaps;

    ULONG        TextureOpCaps;
    ULONG        MaxTextureBlendStages;
    ULONG        MaxSimultaneousTextures;

    ULONG        VertexProcessingCaps;
    ULONG        MaxActiveLights;

    ULONG        MaxPrimitiveCount;
    ULONG        MaxVertexIndex;

    ULONG        MaxBackBuffer;
} D3DMCAPS;

// Bit defines for caps.

// PresentationIntervals

#define D3DMPRESENT_INTERVAL_DEFAULT     0x00000000
#define D3DMPRESENT_INTERVAL_ONE         0x00000001
#define D3DMPRESENT_INTERVAL_TWO         0x00000002
#define D3DMPRESENT_INTERVAL_THREE       0x00000004
#define D3DMPRESENT_INTERVAL_FOUR        0x00000008
#define D3DMPRESENT_INTERVAL_IMMEDIATE   0x80000000

// DevCaps

#define D3DMDEVCAPS_CANRENDERDURINGPRESENT 0x00000800
#define D3DMDEVCAPS_HWTRANSFORMANDLIGHT    0x00010000
#define D3DMDEVCAPS_HWRASTERIZATION        0x00080000
#define D3DMDEVCAPS_NATIVEFLOAT            0x10000000
#define D3DMDEVCAPS_TEXTURE                0x00000004
#define D3DMDEVCAPS_SPECULAR               0x00000008

// SurfaceCaps 

#define D3DMSURFCAPS_SYSFRONTBUFFER      0x00000001
#define D3DMSURFCAPS_VIDFRONTBUFFER      0x00000002
#define D3DMSURFCAPS_SYSBACKBUFFER       0x00000004
#define D3DMSURFCAPS_VIDBACKBUFFER       0x00000008
#define D3DMSURFCAPS_SYSDEPTHBUFFER      0x00000010
#define D3DMSURFCAPS_VIDDEPTHBUFFER      0x00000020
#define D3DMSURFCAPS_SYSVERTEXBUFFER     0x00000040
#define D3DMSURFCAPS_VIDVERTEXBUFFER     0x00000080
#define D3DMSURFCAPS_SYSINDEXBUFFER      0x00000100
#define D3DMSURFCAPS_VIDINDEXBUFFER      0x00000200
#define D3DMSURFCAPS_SYSTEXTURE          0x00000400
#define D3DMSURFCAPS_VIDTEXTURE          0x00000800
#define D3DMSURFCAPS_SYSIMAGESURFACE     0x00001000
#define D3DMSURFCAPS_VIDIMAGESURFACE     0x00002000
#define D3DMSURFCAPS_MANAGEDPOOL         0x00004000
#define D3DMSURFCAPS_LOCKRENDERTARGET    0x00010000
#define D3DMSURFCAPS_LOCKDEPTHBUFFER     0x00020000
#define D3DMSURFCAPS_LOCKTEXTURE         0x00040000

// PrimitiveMiscCaps

#define D3DMPMISCCAPS_CULLNONE           0x00000001
#define D3DMPMISCCAPS_CULLCW             0x00000002
#define D3DMPMISCCAPS_CULLCCW            0x00000004
#define D3DMPMISCCAPS_COLORWRITEENABLE   0x00000008
#define D3DMPMISCCAPS_TSSARGTEMP         0x00000010
#define D3DMPMISCCAPS_ALPHABLEND         0x00000020
#define D3DMPMISCCAPS_ALPHACMP           0x00000040

// LineCaps

#define D3DMLINECAPS_TEXTURE             0x00000001
#define D3DMLINECAPS_BLEND               0x00000004
#define D3DMLINECAPS_ALPHACMP            0x00000008

// RasterCaps

#define D3DMPRASTERCAPS_DITHER                0x00000001
#define D3DMPRASTERCAPS_EXPFOG                0x00000002
#define D3DMPRASTERCAPS_EXP2FOG               0x00000004
#define D3DMPRASTERCAPS_FOGVERTEX             0x00000080
#define D3DMPRASTERCAPS_FOGTABLE              0x00000100
#define D3DMPRASTERCAPS_MIPMAPLODBIAS         0x00002000
#define D3DMPRASTERCAPS_DEPTHBIAS             0x00004000
#define D3DMPRASTERCAPS_ZBUFFERLESSHSR        0x00008000
#define D3DMPRASTERCAPS_FOGRANGE              0x00010000
#define D3DMPRASTERCAPS_ANISOTROPY            0x00020000
#define D3DMPRASTERCAPS_WBUFFER               0x00040000
#define D3DMPRASTERCAPS_STENCIL               0x00080000
#define D3DMPRASTERCAPS_WFOG                  0x00100000
#define D3DMPRASTERCAPS_ZFOG                  0x00200000
#define D3DMPRASTERCAPS_COLORPERSPECTIVE      0x00400000
#define D3DMPRASTERCAPS_STRETCHBLTMULTISAMPLE 0x00800000
#define D3DMPRASTERCAPS_SLOPESCALEDEPTHBIAS   0x01000000

// ZCmpCaps, AlphaCmpCaps, StencilCmpCaps

#define D3DMPCMPCAPS_NEVER               0x00000001
#define D3DMPCMPCAPS_LESS                0x00000002
#define D3DMPCMPCAPS_EQUAL               0x00000004
#define D3DMPCMPCAPS_LESSEQUAL           0x00000008
#define D3DMPCMPCAPS_GREATER             0x00000010
#define D3DMPCMPCAPS_NOTEQUAL            0x00000020
#define D3DMPCMPCAPS_GREATEREQUAL        0x00000040
#define D3DMPCMPCAPS_ALWAYS              0x00000080

// SrcBlendCaps, DestBlendCaps

#define D3DMPBLENDCAPS_ZERO              0x00000001
#define D3DMPBLENDCAPS_ONE               0x00000002
#define D3DMPBLENDCAPS_SRCCOLOR          0x00000004
#define D3DMPBLENDCAPS_INVSRCCOLOR       0x00000008
#define D3DMPBLENDCAPS_SRCALPHA          0x00000010
#define D3DMPBLENDCAPS_INVSRCALPHA       0x00000020
#define D3DMPBLENDCAPS_DESTALPHA         0x00000040
#define D3DMPBLENDCAPS_INVDESTALPHA      0x00000080
#define D3DMPBLENDCAPS_DESTCOLOR         0x00000100
#define D3DMPBLENDCAPS_INVDESTCOLOR      0x00000200
#define D3DMPBLENDCAPS_SRCALPHASAT       0x00000400

// BlendOpCaps

#define D3DMBLENDOPCAPS_ADD              0x00000001
#define D3DMBLENDOPCAPS_SUBTRACT         0x00000002
#define D3DMBLENDOPCAPS_REVSUBTRACT      0x00000004
#define D3DMBLENDOPCAPS_MIN              0x00000008
#define D3DMBLENDOPCAPS_MAX              0x00000010

// ShadeCaps

#define D3DMPSHADECAPS_COLORGOURAUDRGB       0x00000008
#define D3DMPSHADECAPS_SPECULARGOURAUDRGB    0x00000200
#define D3DMPSHADECAPS_ALPHAGOURAUDBLEND     0x00004000
#define D3DMPSHADECAPS_FOGGOURAUD            0x00080000

// TextureCaps

#define D3DMPTEXTURECAPS_PERSPECTIVE         0x00000001
#define D3DMPTEXTURECAPS_POW2                0x00000002
#define D3DMPTEXTURECAPS_ALPHA               0x00000004
#define D3DMPTEXTURECAPS_SQUAREONLY          0x00000020
#define D3DMPTEXTURECAPS_ALPHAPALETTE        0x00000080
#define D3DMPTEXTURECAPS_PROJECTEDSUPPORT    0x00000200
#define D3DMPTEXTURECAPS_PROJECTED           0x00000400
#define D3DMPTEXTURECAPS_MIPMAP              0x00004000

// TextureFilterCaps, StretchRectFilterCaps

#define D3DMPTFILTERCAPS_MINFPOINT           0x00000100
#define D3DMPTFILTERCAPS_MINFLINEAR          0x00000200
#define D3DMPTFILTERCAPS_MINFANISOTROPIC     0x00000400
#define D3DMPTFILTERCAPS_MIPFPOINT           0x00010000
#define D3DMPTFILTERCAPS_MIPFLINEAR          0x00020000
#define D3DMPTFILTERCAPS_MAGFPOINT           0x01000000
#define D3DMPTFILTERCAPS_MAGFLINEAR          0x02000000
#define D3DMPTFILTERCAPS_MAGFANISOTROPIC     0x04000000

// TextureAddressCaps

#define D3DMPTADDRESSCAPS_WRAP           0x00000001
#define D3DMPTADDRESSCAPS_MIRROR         0x00000002
#define D3DMPTADDRESSCAPS_CLAMP          0x00000004
#define D3DMPTADDRESSCAPS_BORDER         0x00000008
#define D3DMPTADDRESSCAPS_INDEPENDENTUV  0x00000010

// StencilCaps

#define D3DMSTENCILCAPS_KEEP             0x00000001
#define D3DMSTENCILCAPS_ZERO             0x00000002
#define D3DMSTENCILCAPS_REPLACE          0x00000004
#define D3DMSTENCILCAPS_INCRSAT          0x00000008
#define D3DMSTENCILCAPS_DECRSAT          0x00000010
#define D3DMSTENCILCAPS_INVERT           0x00000020
#define D3DMSTENCILCAPS_INCR             0x00000040
#define D3DMSTENCILCAPS_DECR             0x00000080

// TextureOpCaps

#define D3DMTEXOPCAPS_SELECTARG1                 0x00000002
#define D3DMTEXOPCAPS_SELECTARG2                 0x00000004
#define D3DMTEXOPCAPS_MODULATE                   0x00000008
#define D3DMTEXOPCAPS_MODULATE2X                 0x00000010
#define D3DMTEXOPCAPS_MODULATE4X                 0x00000020
#define D3DMTEXOPCAPS_ADD                        0x00000040
#define D3DMTEXOPCAPS_ADDSIGNED                  0x00000080
#define D3DMTEXOPCAPS_ADDSIGNED2X                0x00000100
#define D3DMTEXOPCAPS_SUBTRACT                   0x00000200
#define D3DMTEXOPCAPS_ADDSMOOTH                  0x00000400
#define D3DMTEXOPCAPS_BLENDDIFFUSEALPHA          0x00000800
#define D3DMTEXOPCAPS_BLENDTEXTUREALPHA          0x00001000
#define D3DMTEXOPCAPS_BLENDFACTORALPHA           0x00002000
#define D3DMTEXOPCAPS_BLENDTEXTUREALPHAPM        0x00004000
#define D3DMTEXOPCAPS_BLENDCURRENTALPHA          0x00008000
#define D3DMTEXOPCAPS_PREMODULATE                0x00010000
#define D3DMTEXOPCAPS_MODULATEALPHA_ADDCOLOR     0x00020000
#define D3DMTEXOPCAPS_MODULATECOLOR_ADDALPHA     0x00040000
#define D3DMTEXOPCAPS_MODULATEINVALPHA_ADDCOLOR  0x00080000
#define D3DMTEXOPCAPS_MODULATEINVCOLOR_ADDALPHA  0x00100000
#define D3DMTEXOPCAPS_DOTPRODUCT3                0x00800000
#define D3DMTEXOPCAPS_MULTIPLYADD                0x01000000
#define D3DMTEXOPCAPS_LERP                       0x02000000

// VertexProcessingCaps

#define D3DMVTXPCAPS_TEXGEN              0x00000001
#define D3DMVTXPCAPS_MATERIALSOURCE      0x00000002
#define D3DMVTXPCAPS_DIRECTIONALLIGHTS   0x00000008
#define D3DMVTXPCAPS_POSITIONALLIGHTS    0x00000010
#define D3DMVTXPCAPS_LOCALVIEWER         0x00000020
#define D3DMVTXPCAPS_CLIPSTATUS          0x00000040
